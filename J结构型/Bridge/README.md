# Bridge(桥接模式)    ---- 结构型模式

将抽象部分与实现部分分离，使它们都可以独立的变化。

举个例子，"人"就是抽象，而"男人"和"女人"就是实现。手机是抽象，而不同的软件是实现。操作系统是抽象，系统软件是实现。这么多例子应该能看出他们的关系了，那就是前者包含了后者，后者组成了前者。用继承来体现他们之间的关系是非常恰当的，但是这只是两层关系，所以看不出用继承的坏处，如果再加一层就明显了，比如男人有小孩、青年、中年、老年，女人也有这四种。那么就要增加8个类了，这就是缺点。

桥接模式有点抽象，简单说就是解耦，类的继承层次太多了就得拆开来，否则每增加一层就会暴增很多类。拿"人"的例子来拆的话，男人和女人继承"人"，而小孩、青年、中年、老年继承"年龄段"。然后小孩、青年、中年、老年想办法去使用男人和女人的接口就行了。

看到这里，可能还是一知半解，不知道怎么运用桥接模式。再举个比较有特点的例子。修图软件中的画笔工具见过吧?其中有各种笔头，如毛笔、钢笔等，还能选颜色，如蓝色、红色等等。现在准备设计一些类来实现画笔工具，很暴力的方式是画笔工具作为一个类，不同的笔头作为不同的子类继承自画笔工具类，然后不同颜色作为不同的类继承自笔头类。假设有3种笔头，10种颜色，那么共计1 + 2 + 2 * 10 = 23个类。如果再加上特效，那估计得加多几十个类，这样的设计很糟糕。这种多维度的类设计，应该尽量解耦，笔头有笔头类，颜色有颜色类，这不应该硬编码到一块，否则未来要扩展的时候就头疼了。

桥接模式所需要的角色如下图


![桥接模式UML](https://github.com/xcw0754/PPL/blob/master/UML/uml-bridge-20180924.png)


抽象与实现分离，Abstraction类应该提供接口供client使用，而Implementor类应该丰富一些函数来支持抽象的功能。
